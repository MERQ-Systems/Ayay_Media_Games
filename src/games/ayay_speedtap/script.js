(function() {
  var game;

  $(document).ready(function() {
    return game.init();
  });

  game = {
    points: 0,
    left: "blue",
    right: "blue",
    speed: 4000,
    game_interval: "",
    init: function() {
      return this.bind_events();
    },
    bind_events: function() {
      $(document).on("click", ".logo", function(e) {
        e.preventDefault();
        game.switch_stage("play");
        return game.start();
      });
      return $(document).on("click", ".btn", function(e) {
        e.preventDefault();
        return $(this).toggleClass("red");
      });
    },
    switch_stage: function(stage) {
      if (stage === "gameover") {
        $(".dots").remove();
        clearInterval(this.game_interval);
      }
      $("[class*='stage-']").hide();
      return $(".stage-" + stage).show();
    },
    start: function() {
      this.points = 0;
      this.left = "blue";
      this.right = "blue";
      $(".points").html("0");
      $(".btn").removeClass("red");
      return this.game_interval = setInterval(function() {
        return game.generate_dots();
      }, 1500);
    },
    generate_dots: function() {
      var colors, dot1, dot2, dots;
      dots = $("<div class='dots'></div>");
      colors = ["red", "blue"];
      dot1 = $("<div class='dot " + colors[Math.floor(Math.random() * colors.length)] + "'></div>");
      dot2 = $("<div class='dot " + colors[Math.floor(Math.random() * colors.length)] + "'></div>");
      dots.append(dot1);
      dots.append(dot2);
      $(".stage-play").append(dots);
      return dots.animate({
        top: "80%"
      }, this.speed, "linear", function() {
        game.add_points();
        // Check left
        if ($(".btn.left").hasClass("red")) {
          if ($(".dot:first-of-type", this).hasClass("blue")) {
            game.switch_stage("gameover");
          }
        } else {
          if ($(".dot:first-of-type", this).hasClass("red")) {
            game.switch_stage("gameover");
          }
        }
        // Check right
        if ($(".btn.right").hasClass("red")) {
          if ($(".dot:last-of-type", this).hasClass("blue")) {
            game.switch_stage("gameover");
          }
        } else {
          if ($(".dot:last-of-type", this).hasClass("red")) {
            game.switch_stage("gameover");
          }
        }
        return $(this).remove();
      });
    },
    add_points: function() {
      this.points += 2;
      return $(".points").html(this.points);
    }
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiPGFub255bW91cz4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLENBQUEsQ0FBRSxRQUFGLENBQVcsQ0FBQyxLQUFaLENBQWtCLFFBQUEsQ0FBQSxDQUFBO1dBQ2hCLElBQUksQ0FBQyxJQUFMLENBQUE7RUFEZ0IsQ0FBbEI7O0VBR0EsSUFBQSxHQUNFO0lBQUEsTUFBQSxFQUFRLENBQVI7SUFDQSxJQUFBLEVBQU0sTUFETjtJQUVBLEtBQUEsRUFBTyxNQUZQO0lBR0EsS0FBQSxFQUFPLElBSFA7SUFJQSxhQUFBLEVBQWUsRUFKZjtJQU1BLElBQUEsRUFBTSxRQUFBLENBQUEsQ0FBQTthQUNKLElBQUMsQ0FBQSxXQUFELENBQUE7SUFESSxDQU5OO0lBU0EsV0FBQSxFQUFhLFFBQUEsQ0FBQSxDQUFBO01BQ1gsQ0FBQSxDQUFFLFFBQUYsQ0FBVyxDQUFDLEVBQVosQ0FBZSxPQUFmLEVBQXdCLE9BQXhCLEVBQWlDLFFBQUEsQ0FBQyxDQUFELENBQUE7UUFDL0IsQ0FBQyxDQUFDLGNBQUYsQ0FBQTtRQUNBLElBQUksQ0FBQyxZQUFMLENBQWtCLE1BQWxCO2VBQ0EsSUFBSSxDQUFDLEtBQUwsQ0FBQTtNQUgrQixDQUFqQzthQUtBLENBQUEsQ0FBRSxRQUFGLENBQVcsQ0FBQyxFQUFaLENBQWUsT0FBZixFQUF3QixNQUF4QixFQUFnQyxRQUFBLENBQUMsQ0FBRCxDQUFBO1FBQzlCLENBQUMsQ0FBQyxjQUFGLENBQUE7ZUFDQSxDQUFBLENBQUUsSUFBRixDQUFPLENBQUMsV0FBUixDQUFvQixLQUFwQjtNQUY4QixDQUFoQztJQU5XLENBVGI7SUFtQkEsWUFBQSxFQUFjLFFBQUEsQ0FBQyxLQUFELENBQUE7TUFDWixJQUFHLEtBQUEsS0FBUyxVQUFaO1FBQ0UsQ0FBQSxDQUFFLE9BQUYsQ0FBVSxDQUFDLE1BQVgsQ0FBQTtRQUNBLGFBQUEsQ0FBYyxJQUFDLENBQUEsYUFBZixFQUZG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QUFFLFNBQUYsQ0FBWSxDQUFDLElBQWIsQ0FBa0IsSUFBQyxDQUFBLE1BQW5CO0lBRlU7RUFoRVo7QUFKRiIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5IC0+XG4gIGdhbWUuaW5pdCgpXG4gIFxuZ2FtZSA9XG4gIHBvaW50czogMFxuICBsZWZ0OiBcImJsdWVcIlxuICByaWdodDogXCJibHVlXCJcbiAgc3BlZWQ6IDQwMDBcbiAgZ2FtZV9pbnRlcnZhbDogXCJcIlxuXG4gIGluaXQ6IC0+XG4gICAgQGJpbmRfZXZlbnRzKClcbiAgICBcbiAgYmluZF9ldmVudHM6IC0+XG4gICAgJChkb2N1bWVudCkub24gXCJjbGlja1wiLCBcIi5sb2dvXCIsIChlKSAtPlxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBnYW1lLnN3aXRjaF9zdGFnZShcInBsYXlcIilcbiAgICAgIGdhbWUuc3RhcnQoKVxuICAgICAgXG4gICAgJChkb2N1bWVudCkub24gXCJjbGlja1wiLCBcIi5idG5cIiwgKGUpIC0+XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJyZWRcIilcbiAgICAgIFxuICBzd2l0Y2hfc3RhZ2U6IChzdGFnZSkgLT5cbiAgICBpZiBzdGFnZSBpcyBcImdhbWVvdmVyXCJcbiAgICAgICQoXCIuZG90c1wiKS5yZW1vdmUoKVxuICAgICAgY2xlYXJJbnRlcnZhbChAZ2FtZV9pbnRlcnZhbClcbiAgICAkKFwiW2NsYXNzKj0nc3RhZ2UtJ11cIikuaGlkZSgpXG4gICAgJChcIi5zdGFnZS1cIitzdGFnZSkuc2hvdygpXG4gICAgXG4gIHN0YXJ0OiAtPlxuICAgIEBwb2ludHMgPSAwXG4gICAgQGxlZnQgPSBcImJsdWVcIlxuICAgIEByaWdodCA9IFwiYmx1ZVwiXG4gICAgJChcIi5wb2ludHNcIikuaHRtbChcIjBcIilcbiAgICAkKFwiLmJ0blwiKS5yZW1vdmVDbGFzcyhcInJlZFwiKVxuICAgIEBnYW1lX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoLT5cbiAgICAgIGdhbWUuZ2VuZXJhdGVfZG90cygpXG4gICAgLCAxNTAwKVxuXG4gIGdlbmVyYXRlX2RvdHM6IC0+XG4gICAgZG90cyA9ICQoXCI8ZGl2IGNsYXNzPSdkb3RzJz48L2Rpdj5cIilcbiAgICBjb2xvcnMgPSBbXCJyZWRcIiwgXCJibHVlXCJdXG4gICAgZG90MSA9ICQoXCI8ZGl2IGNsYXNzPSdkb3QgXCIrY29sb3JzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbG9ycy5sZW5ndGgpXStcIic+PC9kaXY+XCIpXG4gICAgZG90MiA9ICQoXCI8ZGl2IGNsYXNzPSdkb3QgXCIrY29sb3JzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbG9ycy5sZW5ndGgpXStcIic+PC9kaXY+XCIpXG4gICAgZG90cy5hcHBlbmQoZG90MSlcbiAgICBkb3RzLmFwcGVuZChkb3QyKVxuICAgICQoXCIuc3RhZ2UtcGxheVwiKS5hcHBlbmQoZG90cylcbiAgICBkb3RzLmFuaW1hdGVcbiAgICAgIHRvcDogXCI4MCVcIlxuICAgICwgQHNwZWVkLCBcImxpbmVhclwiLCAtPlxuICAgICAgZ2FtZS5hZGRfcG9pbnRzKClcbiAgICAgICMgQ2hlY2sgbGVmdFxuICAgICAgaWYgJChcIi5idG4ubGVmdFwiKS5oYXNDbGFzcyhcInJlZFwiKVxuICAgICAgICBpZiAkKFwiLmRvdDpmaXJzdC1vZi10eXBlXCIsIHRoaXMpLmhhc0NsYXNzKFwiYmx1ZVwiKVxuICAgICAgICAgIGdhbWUuc3dpdGNoX3N0YWdlKFwiZ2FtZW92ZXJcIilcbiAgICAgIGVsc2VcbiAgICAgICAgaWYgJChcIi5kb3Q6Zmlyc3Qtb2YtdHlwZVwiLCB0aGlzKS5oYXNDbGFzcyhcInJlZFwiKVxuICAgICAgICAgIGdhbWUuc3dpdGNoX3N0YWdlKFwiZ2FtZW92ZXJcIilcbiAgICAgICMgQ2hlY2sgcmlnaHRcbiAgICAgIGlmICQoXCIuYnRuLnJpZ2h0XCIpLmhhc0NsYXNzKFwicmVkXCIpXG4gICAgICAgIGlmICQoXCIuZG90Omxhc3Qtb2YtdHlwZVwiLCB0aGlzKS5oYXNDbGFzcyhcImJsdWVcIilcbiAgICAgICAgICBnYW1lLnN3aXRjaF9zdGFnZShcImdhbWVvdmVyXCIpXG4gICAgICBlbHNlXG4gICAgICAgIGlmICQoXCIuZG90Omxhc3Qtb2YtdHlwZVwiLCB0aGlzKS5oYXNDbGFzcyhcInJlZFwiKVxuICAgICAgICAgIGdhbWUuc3dpdGNoX3N0YWdlKFwiZ2FtZW92ZXJcIilcbiAgICAgICQodGhpcykucmVtb3ZlKClcblxuICBhZGRfcG9pbnRzOiAtPlxuICAgIEBwb2ludHMgKz0gMlxuICAgICQoXCIucG9pbnRzXCIpLmh0bWwoQHBvaW50cykiXX0=
//# sourceURL=coffeescript